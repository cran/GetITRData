<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Marcelo Perlin" />

<meta name="date" content="2017-10-21" />

<title>Using GetITRData to obtain quarterly financial reports from Bovespa</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">Using GetITRData to obtain quarterly financial reports from Bovespa</h1>
<h4 class="author"><em>Marcelo Perlin</em></h4>
<h4 class="date"><em>2017-10-21</em></h4>



<p>Financial statements of companies traded at B3 (formerly Bovespa), the Brazilian stock exchange, are available in its <a href="http://www.bmfbovespa.com.br/">website</a>. Accessing the data for a single company is straightforward. In the website one can find a simple interface for accessing this dataset. An example is given <a href="https://www.rad.cvm.gov.br/ENETCONSULTA/frmGerenciaPaginaFRE.aspx?NumeroSequencialDocumento=67775&amp;CodigoTipoInstituicao=2">here</a>. However, gathering and organizing the data for a large scale research, with many companies and many dates, is painful. Financial reports must be downloaded or copied individually and later aggregated. Changes in the accounting format thoughout time can make this process slow, unreliable and irreproducible.</p>
<p>Package <code>GetITRData</code> provides a R interface to all financial statements available in the website. It not only downloads the data but also organizes it in a tabular format and allows the use of inflation indexes. Users can select companies and a time period to download all available data. Several information about current companies, such as sector and available quarters are also at reach. The main purpose of the package is to make it easy to access quarterly financial statements in large scale research, facilitating the reproducibility of corporate finance studies with B3 data.</p>
<div id="installation" class="section level1">
<h1>Installation</h1>
<p>The package is available in CRAN (release version) and in Github (development version). You can install any of those with the following code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Release version in CRAN</span>
<span class="kw">install.packages</span>(<span class="st">'GetITRData'</span>) <span class="co"># not in CRAN yet</span>

<span class="co"># Development version in Github</span>
devtools<span class="op">::</span><span class="kw">install_github</span>(<span class="st">'msperlin/GetITRData'</span>)</code></pre></div>
</div>
<div id="how-to-use-getitrdata" class="section level1">
<h1>How to use <code>GetITRData</code></h1>
<p>The starting point of <code>GetITRData</code> is to find the official names of companies in Bovespa. Function <code>gitrd.search.company</code> serves this purpose. Given a string (text), it will search for a partial matches in companies names. As an example, let’s find the <em>official</em> name of Petrobras, one of the largest companies in Brazil:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(GetITRData)
<span class="kw">library</span>(tibble)

<span class="kw">gitrd.search.company</span>(<span class="st">'petrobras'</span>)</code></pre></div>
<pre><code>## 
## Reading info file from github
## Found 33351 lines for 626 companies  [Actives =  474  Inactives =  152 ]
## Last file update:  2017-10-19
## Caching RDATA into tempdir()
## 
## Found 1 companies:
## PETRÓLEO BRASILEIRO  S.A.  - PETROBRAS | situation = ATIVO | first date = 1998-09-30 | last date - 2017-06-30</code></pre>
<p>Its official name in Bovespa records is <code>PETRÓLEO BRASILEIRO  S.A.  - PETROBRAS</code>. Data for quarterly and annual statements are available from 1998 to 2017. The situation of the company, active or canceled, is also given. This helps verifying the availability of data.</p>
<p>The content of all available quarterly statements can be accessed with function <code>gitrd.get.info.companies</code>. It will read and parse a .csv file from my <a href="https://github.com/msperlin/GetITRData_auxiliary">github repository</a>. This will be periodically updated for new quarterly statements. Let’s try it out:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df.info &lt;-<span class="st"> </span><span class="kw">gitrd.get.info.companies</span>(<span class="dt">type.data =</span> <span class="st">'companies'</span>)</code></pre></div>
<pre><code>## 
## Reading info file from github
## Found 33351 lines for 626 companies  [Actives =  474  Inactives =  152 ]
## Last file update:  2017-10-19
## Caching RDATA into tempdir()</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">glimpse</span>(df.info)</code></pre></div>
<pre><code>## Observations: 627
## Variables: 9
## $ name.company &lt;chr&gt; &quot;521 PARTICIPAÇOES S.A. - EM LIQUIDAÇÃO EXTRAJUDI...
## $ id.company   &lt;int&gt; 16330, 16284, 21725, 19313, 18350, 18970, 18104, ...
## $ situation    &lt;chr&gt; &quot;ATIVO&quot;, &quot;ATIVO&quot;, &quot;ATIVO&quot;, &quot;ATIVO&quot;, &quot;CANCELADA&quot;, ...
## $ main.sector  &lt;chr&gt; NA, &quot;Financeiro e Outros&quot;, &quot;Consumo não Cíclico&quot;,...
## $ sub.sector   &lt;chr&gt; NA, &quot;Outros&quot;, &quot;Produtos de Uso Pessoal e de Limpe...
## $ segment      &lt;chr&gt; NA, &quot;Outros&quot;, &quot;Produtos de Uso Pessoal&quot;, &quot;Energia...
## $ tickers      &lt;chr&gt; NA, &quot;QVQP3B&quot;, NA, &quot;AELP3&quot;, NA, &quot;TIET11;TIET3;TIET...
## $ first.date   &lt;date&gt; 1998-12-31, 2001-09-30, 2008-12-31, 2001-12-31, ...
## $ last.date    &lt;date&gt; 2015-03-31, 2017-06-30, 2017-03-31, 2017-06-30, ...</code></pre>
<p>This file includes several information that are gathered from Bovespa: names of companies, sectors, dates quarterly statements and, most importantly, the links to download the files. The resulting dataframe can be used to filter and gather information for large scale research such as downloading financial data for a specific sector.</p>
<div id="downloading-financial-information-for-one-company" class="section level2">
<h2>Downloading financial information for ONE company</h2>
<p>All you need to download financial data with <code>GetITRData</code> are the official names of companies, which can be found with <code>gitrd.search.company</code>, the desired starting and ending dates and the type of financial information (individual or consolidated). Let’s try it for PETROBRAS:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">name.companies &lt;-<span class="st"> 'PETRÓLEO BRASILEIRO  S.A.  - PETROBRAS'</span>
first.date &lt;-<span class="st"> '2004-01-01'</span>
last.date  &lt;-<span class="st"> '2006-01-01'</span>
type.statements &lt;-<span class="st"> 'individual'</span>
periodicy.fin.report &lt;-<span class="st"> 'annual'</span>

df.reports &lt;-<span class="st"> </span><span class="kw">gitrd.GetITRData</span>(<span class="dt">name.companies =</span> name.companies, 
                               <span class="dt">periodicy.fin.report =</span> periodicy.fin.report, 
                               <span class="dt">first.date =</span> first.date,
                               <span class="dt">last.date =</span> last.date,
                               <span class="dt">type.info =</span> type.statements)</code></pre></div>
<pre><code>## Found cache file. Loading data..
## 
## Downloading data for 1 companies
## Reach of financial reports: individual
## Periodicy of financial reports: annual (dfp system)
## First Date: 2004-01-01
## Laste Date: 2006-01-01
## Inflation index: dollar
## 
## Downloading dollar data using BETS   Done
## 
## 
## WARNING: For data before 2009, the cash flow statements are not available
## 
## Inputs looks good! Downloading data:
## PETRÓLEO BRASILEIRO  S.A.  - PETROBRAS
##  Available periods: 2005-12-31   2004-12-31
## 
## 
## Processing PETRÓLEO BRASILEIRO  S.A.  - PETROBRAS, Date = 2005-12-31 Downloading | Reading file
## Processing PETRÓLEO BRASILEIRO  S.A.  - PETROBRAS, Date = 2004-12-31 Downloading | Reading file</code></pre>
<p>The resulting object is a <code>tibble</code>, a data.frame type of object that allows for list columns. Let’s have a look in its content:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">glimpse</span>(df.reports)</code></pre></div>
<pre><code>## Observations: 1
## Variables: 13
## $ company.name      &lt;chr&gt; &quot;PETRÓLEO BRASILEIRO  S.A.  - PETROBRAS&quot;
## $ company.code      &lt;int&gt; 9512
## $ type.info         &lt;chr&gt; &quot;individual&quot;
## $ min.date          &lt;date&gt; 2004-12-31
## $ max.date          &lt;date&gt; 2005-12-31
## $ n.periods         &lt;int&gt; 2
## $ stock.holders     &lt;list&gt; [&lt;c(&quot;Bndes + Fps&quot;, &quot;Caixa Previdência Funci...
## $ stock.composition &lt;list&gt; [&lt;c(&quot;Ordinárias&quot;, &quot;Preferenciais&quot;, &quot;Total&quot;)...
## $ dividends.history &lt;list&gt; [&lt;c(&quot;ON&quot;, &quot;ON&quot;, &quot;ON&quot;, &quot;ON&quot;, &quot;ON&quot;, &quot;ON&quot;, &quot;ON...
## $ fr.assets         &lt;list&gt; [&lt;# A tibble: 28 x 6,                      ...
## $ fr.liabilities    &lt;list&gt; [&lt;# A tibble: 46 x 6,                      ...
## $ fr.income         &lt;list&gt; [&lt;# A tibble: 48 x 6,                      ...
## $ fr.cashflow       &lt;list&gt; [&lt;character(0), character(0), character(0),...</code></pre>
<p>Object <code>df.reports</code> only has one row since we only asked for data of one company. The number of rows increases with the number of companies, as we will soon learn with the next example. All financial statements for the different years are available within <code>df.reports</code>. For example, the income statements for all desired years of PETROBRAS are:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df.income.long &lt;-<span class="st"> </span>df.reports<span class="op">$</span>fr.income[[<span class="dv">1</span>]]

<span class="kw">glimpse</span>(df.income.long)</code></pre></div>
<pre><code>## Observations: 48
## Variables: 6
## $ company.name       &lt;chr&gt; &quot;PETRÓLEO BRASILEIRO  S.A.  - PETROBRAS&quot;, &quot;...
## $ ref.date           &lt;date&gt; 2005-12-31, 2005-12-31, 2005-12-31, 2005-1...
## $ acc.number         &lt;chr&gt; &quot;3.01&quot;, &quot;3.02&quot;, &quot;3.03&quot;, &quot;3.04&quot;, &quot;3.05&quot;, &quot;3....
## $ acc.desc           &lt;chr&gt; &quot;Receita Bruta de Vendas e/ou Serviços&quot;, &quot;D...
## $ acc.value          &lt;int&gt; 143665730, -37843204, 105822526, -57512113,...
## $ acc.value.infl.adj &lt;dbl&gt; 61377250.40, -16167472.98, 45209777.42, -24...</code></pre>
<p>The resulting dataframe is in the long format, ready for processing. In the long format, financial statements of different quarters are stacked. In the wide format, we have the quarters as dates. If you want the wide format, which I believe is most common in financial analysis, you can use function <code>gitrd.convert.to.wide</code>. See an example next:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df.income.wide &lt;-<span class="st"> </span><span class="kw">gitrd.convert.to.wide</span>(df.income.long)

knitr<span class="op">::</span><span class="kw">kable</span>(df.income.wide )</code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">acc.number</th>
<th align="left">acc.desc</th>
<th align="left">company.name</th>
<th align="right">2004-12-31</th>
<th align="right">2005-12-31</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">3.01</td>
<td align="left">Receita Bruta de Vendas e/ou Serviços</td>
<td align="left">PETRÓLEO BRASILEIRO S.A. - PETROBRAS</td>
<td align="right">120024727</td>
<td align="right">143665730</td>
</tr>
<tr class="even">
<td align="left">3.02</td>
<td align="left">Deduções da Receita Bruta</td>
<td align="left">PETRÓLEO BRASILEIRO S.A. - PETROBRAS</td>
<td align="right">-34450292</td>
<td align="right">-37843204</td>
</tr>
<tr class="odd">
<td align="left">3.03</td>
<td align="left">Receita Líquida de Vendas e/ou Serviços</td>
<td align="left">PETRÓLEO BRASILEIRO S.A. - PETROBRAS</td>
<td align="right">85574435</td>
<td align="right">105822526</td>
</tr>
<tr class="even">
<td align="left">3.04</td>
<td align="left">Custo de Bens e/ou Serviços Vendidos</td>
<td align="left">PETRÓLEO BRASILEIRO S.A. - PETROBRAS</td>
<td align="right">-48607576</td>
<td align="right">-57512113</td>
</tr>
<tr class="odd">
<td align="left">3.05</td>
<td align="left">Resultado Bruto</td>
<td align="left">PETRÓLEO BRASILEIRO S.A. - PETROBRAS</td>
<td align="right">36966859</td>
<td align="right">48310413</td>
</tr>
<tr class="even">
<td align="left">3.06</td>
<td align="left">Despesas/Receitas Operacionais</td>
<td align="left">PETRÓLEO BRASILEIRO S.A. - PETROBRAS</td>
<td align="right">-11110540</td>
<td align="right">-14810467</td>
</tr>
<tr class="odd">
<td align="left">3.06.01</td>
<td align="left">Com Vendas</td>
<td align="left">PETRÓLEO BRASILEIRO S.A. - PETROBRAS</td>
<td align="right">-2858630</td>
<td align="right">-4195157</td>
</tr>
<tr class="even">
<td align="left">3.06.02</td>
<td align="left">Gerais e Administrativas</td>
<td align="left">PETRÓLEO BRASILEIRO S.A. - PETROBRAS</td>
<td align="right">-2599552</td>
<td align="right">-3453753</td>
</tr>
<tr class="odd">
<td align="left">3.06.03</td>
<td align="left">Financeiras</td>
<td align="left">PETRÓLEO BRASILEIRO S.A. - PETROBRAS</td>
<td align="right">-1019901</td>
<td align="right">126439</td>
</tr>
<tr class="even">
<td align="left">3.06.04</td>
<td align="left">Outras Receitas Operacionais</td>
<td align="left">PETRÓLEO BRASILEIRO S.A. - PETROBRAS</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">3.06.05</td>
<td align="left">Outras Despesas Operacionais</td>
<td align="left">PETRÓLEO BRASILEIRO S.A. - PETROBRAS</td>
<td align="right">-5982336</td>
<td align="right">-9070019</td>
</tr>
<tr class="even">
<td align="left">3.06.06</td>
<td align="left">Resultado da Equivalência Patrimonial</td>
<td align="left">PETRÓLEO BRASILEIRO S.A. - PETROBRAS</td>
<td align="right">1349879</td>
<td align="right">1782023</td>
</tr>
<tr class="odd">
<td align="left">3.07</td>
<td align="left">Resultado Operacional</td>
<td align="left">PETRÓLEO BRASILEIRO S.A. - PETROBRAS</td>
<td align="right">25856319</td>
<td align="right">33499946</td>
</tr>
<tr class="even">
<td align="left">3.08</td>
<td align="left">Resultado Não Operacional</td>
<td align="left">PETRÓLEO BRASILEIRO S.A. - PETROBRAS</td>
<td align="right">-550694</td>
<td align="right">-199982</td>
</tr>
<tr class="odd">
<td align="left">3.08.01</td>
<td align="left">Receitas</td>
<td align="left">PETRÓLEO BRASILEIRO S.A. - PETROBRAS</td>
<td align="right">46611</td>
<td align="right">1256194</td>
</tr>
<tr class="even">
<td align="left">3.08.02</td>
<td align="left">Despesas</td>
<td align="left">PETRÓLEO BRASILEIRO S.A. - PETROBRAS</td>
<td align="right">-597305</td>
<td align="right">-1456176</td>
</tr>
<tr class="odd">
<td align="left">3.09</td>
<td align="left">Resultado Antes Tributação/Participações</td>
<td align="left">PETRÓLEO BRASILEIRO S.A. - PETROBRAS</td>
<td align="right">25305625</td>
<td align="right">33299964</td>
</tr>
<tr class="even">
<td align="left">3.10</td>
<td align="left">Provisão para IR e Contribuição Social</td>
<td align="left">PETRÓLEO BRASILEIRO S.A. - PETROBRAS</td>
<td align="right">-5199166</td>
<td align="right">-8581490</td>
</tr>
<tr class="odd">
<td align="left">3.11</td>
<td align="left">IR Diferido</td>
<td align="left">PETRÓLEO BRASILEIRO S.A. - PETROBRAS</td>
<td align="right">-1692288</td>
<td align="right">-422392</td>
</tr>
<tr class="even">
<td align="left">3.12</td>
<td align="left">Participações/Contribuições Estatutárias</td>
<td align="left">PETRÓLEO BRASILEIRO S.A. - PETROBRAS</td>
<td align="right">-660000</td>
<td align="right">-846000</td>
</tr>
<tr class="odd">
<td align="left">3.12.01</td>
<td align="left">Participações</td>
<td align="left">PETRÓLEO BRASILEIRO S.A. - PETROBRAS</td>
<td align="right">-660000</td>
<td align="right">-846000</td>
</tr>
<tr class="even">
<td align="left">3.12.02</td>
<td align="left">Contribuições</td>
<td align="left">PETRÓLEO BRASILEIRO S.A. - PETROBRAS</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">3.13</td>
<td align="left">Reversão dos Juros sobre Capital Próprio</td>
<td align="left">PETRÓLEO BRASILEIRO S.A. - PETROBRAS</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">3.15</td>
<td align="left">Lucro/Prejuízo do Exercício</td>
<td align="left">PETRÓLEO BRASILEIRO S.A. - PETROBRAS</td>
<td align="right">17754171</td>
<td align="right">23450082</td>
</tr>
</tbody>
</table>
</div>
<div id="downloading-financial-information-for-several-companies" class="section level2">
<h2>Downloading financial information for SEVERAL companies</h2>
<p>If you are doing serious research, it is likely that you need financial statements for more than one company. Package <code>GetITRData</code> is specially designed for handling large scale download of data. Let’s build a case with 3 randomly selected companies:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">2</span>)
my.companies &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="kw">unique</span>(df.info<span class="op">$</span>name.company), <span class="dv">5</span>)

first.date &lt;-<span class="st"> '2008-01-01'</span>
last.date  &lt;-<span class="st"> '2010-01-01'</span>
type.statements &lt;-<span class="st"> 'individual'</span>
periodicy.fin.report &lt;-<span class="st"> 'annual'</span>

df.reports &lt;-<span class="st"> </span><span class="kw">gitrd.GetITRData</span>(<span class="dt">name.companies =</span> my.companies, 
                               <span class="dt">periodicy.fin.report =</span> periodicy.fin.report,
                               <span class="dt">first.date =</span> first.date,
                               <span class="dt">last.date =</span> last.date,
                               <span class="dt">type.info =</span> type.statements)</code></pre></div>
<pre><code>## Found cache file. Loading data..
## 
## Downloading data for 5 companies
## Reach of financial reports: individual
## Periodicy of financial reports: annual (dfp system)
## First Date: 2008-01-01
## Laste Date: 2010-01-01
## Inflation index: dollar
## 
## Downloading dollar data using BETS   Done
## 
## 
## WARNING: Cant find available dates for BRZ INVESTIMENTOS S/A
## WARNING: For data before 2009, the cash flow statements are not available
## 
## Inputs looks good! Downloading data:
## BRF S.A.
##  Available periods: 2009-12-31   2008-12-31
## KARSTEN SA
##  Available periods: 2009-12-31   2008-12-31
## ODONTOPREV S/A
##  Available periods: 2009-12-31   2008-12-31
## ULTRAPAR PARTICIPAÇÕES SA
##  Available periods: 2009-12-31   2008-12-31
## 
## 
## Processing BRF S.A., Date = 2009-12-31   Downloading | Reading file
## Processing BRF S.A., Date = 2008-12-31   Downloading | Reading file
## Processing KARSTEN SA, Date = 2009-12-31 Downloading | Reading file
## Processing KARSTEN SA, Date = 2008-12-31 Downloading | Reading file
## Processing ODONTOPREV S/A, Date = 2009-12-31 Downloading | Reading file
## Processing ODONTOPREV S/A, Date = 2008-12-31 Downloading | Reading file
## Processing ULTRAPAR PARTICIPAÇÕES SA, Date = 2009-12-31  Downloading | Reading file
## Processing ULTRAPAR PARTICIPAÇÕES SA, Date = 2008-12-31  Downloading | Reading file</code></pre>
<p>And now we can check the resulting <code>tibble</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">glimpse</span>(df.reports)</code></pre></div>
<pre><code>## Observations: 4
## Variables: 13
## $ company.name      &lt;chr&gt; &quot;BRF S.A.&quot;, &quot;KARSTEN SA&quot;, &quot;ODONTOPREV S/A&quot;, ...
## $ company.code      &lt;int&gt; 16292, 4146, 20125, 18465
## $ type.info         &lt;chr&gt; &quot;individual&quot;, &quot;individual&quot;, &quot;individual&quot;, &quot;i...
## $ min.date          &lt;date&gt; 2008-12-31, 2008-12-31, 2008-12-31, 2008-12-31
## $ max.date          &lt;date&gt; 2009-12-31, 2009-12-31, 2009-12-31, 2009-12-31
## $ n.periods         &lt;int&gt; 2, 2, 2, 2
## $ stock.holders     &lt;list&gt; [&lt;c(&quot;Standard Life Aberdeen Plc&quot;, &quot;Petros -...
## $ stock.composition &lt;list&gt; [&lt;c(&quot;Ordinárias&quot;, &quot;Preferenciais&quot;, &quot;Total&quot;)...
## $ dividends.history &lt;list&gt; [&lt;c(&quot;ON&quot;, &quot;ON&quot;, &quot;ON&quot;, &quot;ON&quot;, &quot;ON&quot;, &quot;ON&quot;, &quot;ON...
## $ fr.assets         &lt;list&gt; [&lt;# A tibble: 18 x 6,    company.name   ref...
## $ fr.liabilities    &lt;list&gt; [&lt;# A tibble: 42 x 6,    company.name   ref...
## $ fr.income         &lt;list&gt; [&lt;# A tibble: 52 x 6,    company.name   ref...
## $ fr.cashflow       &lt;list&gt; [&lt;character(0), character(0), character(0),...</code></pre>
<p>Every row of <code>df.reports</code> will provide information for one company. Metadata about the corresponding dataframes such as min/max dates is available in the first columns. Keeping a tabular structure facilitates the organization and future processing of all financial data. We can use tibble <code>df.reports</code> for creating other dataframes in the long format containing data for all companies. See next, where we create dataframes with the assets and liabilities of all companies:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df.assets &lt;-<span class="st"> </span><span class="kw">do.call</span>(<span class="dt">what =</span> rbind, <span class="dt">args =</span> df.reports<span class="op">$</span>fr.assets)
df.liabilities &lt;-<span class="st"> </span><span class="kw">do.call</span>(<span class="dt">what =</span> rbind, <span class="dt">args =</span> df.reports<span class="op">$</span>fr.liabilities)

df.assets.liabilities &lt;-<span class="st"> </span><span class="kw">rbind</span>(df.assets, df.liabilities)</code></pre></div>
<p>As an example, let’s use the resulting dataframe for calculating and analyzing a simple liquidity index of a company, the total of current (liquid) assets (<em>Ativo circulante</em>) divided by the total of current short term liabilities (<em>Passivo Circulante</em>), over time.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)</code></pre></div>
<pre><code>## 
## Attaching package: 'dplyr'</code></pre>
<pre><code>## The following objects are masked from 'package:stats':
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from 'package:base':
## 
##     intersect, setdiff, setequal, union</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my.tab &lt;-<span class="st"> </span>df.assets.liabilities <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(company.name, ref.date) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">Liq.Index =</span> acc.value[acc.number <span class="op">==</span><span class="st"> '1.01'</span>]<span class="op">/</span><span class="st"> </span>acc.value[acc.number <span class="op">==</span><span class="st"> '2.01'</span>])

my.tab</code></pre></div>
<pre><code>## # A tibble: 8 x 3
## # Groups:   company.name [?]
##                company.name   ref.date Liq.Index
##                       &lt;chr&gt;     &lt;date&gt;     &lt;dbl&gt;
## 1                  BRF S.A. 2008-12-31 0.8705760
## 2                  BRF S.A. 2009-12-31 1.4471633
## 3                KARSTEN SA 2008-12-31 0.8535343
## 4                KARSTEN SA 2009-12-31 1.3657104
## 5            ODONTOPREV S/A 2008-12-31 1.7151491
## 6            ODONTOPREV S/A 2009-12-31 0.9576243
## 7 ULTRAPAR PARTICIPAÇÕES SA 2008-12-31 0.6841688
## 8 ULTRAPAR PARTICIPAÇÕES SA 2009-12-31 1.2383783</code></pre>
<p>Now we can visualize the information using <code>ggplot2</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)

p &lt;-<span class="st"> </span><span class="kw">ggplot</span>(my.tab, <span class="kw">aes</span>(<span class="dt">x =</span> ref.date, <span class="dt">y =</span> Liq.Index, <span class="dt">fill =</span> company.name)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_col</span>(<span class="dt">position =</span> <span class="st">'dodge'</span> )
<span class="kw">print</span>(p)</code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>As we can see, we could not find available data for all companies. Nonetheless, JPSP is the company with highest liquidity, being able to pay its short term debt with the current assets in all years. We can certainly do a lot more interesting studies based on this data set.</p>
</div>
<div id="exporting-financial-data" class="section level2">
<h2>Exporting financial data</h2>
<p>The package includes function <code>gitrd.export.ITR.data</code> for exporting the financial data to an Excel file. Users can choose between the long and wide format. See next:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my.basename &lt;-<span class="st"> 'MyExcelData'</span>
my.format &lt;-<span class="st"> 'xlsx'</span> <span class="co"># only supported so far</span>
<span class="kw">gitrd.export.ITR.data</span>(<span class="dt">data.in =</span> df.reports, 
                      <span class="dt">base.file.name =</span> my.basename,
                      <span class="dt">type.export =</span> my.format,
                      <span class="dt">format.data =</span> <span class="st">'long'</span>)</code></pre></div>
<p>The resulting Excel file contains all data available in <code>df.reports</code>.</p>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
